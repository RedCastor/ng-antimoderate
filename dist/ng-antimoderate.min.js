!function(e){"use strict";e.module("ngAntimoderate",[]).directive("ngAntimoderate",["$timeout",function(i){return{restrict:"A",replace:!1,scope:{ngAntimoderate:"@",filter:"@",transition:"@",loadingClass:"@",loadedClass:"@",overflow:"@"},transclude:!1,link:function(t,n,s){var o=n[0],a={},r=[];a.micro_src=t.ngAntimoderate||"",a.filter=t.filter||"",a.transition=t.transition||"",a.loading_class=t.loadingClass||"loading",a.loaded_class=t.loadedClass||"loaded",a.overflow="false"!==t.overflow;var l=function(t,n,o){var a=t[0],l=new Image;l.onload=function(){var n=s.src;if(e.isDefined(n)&&null!==n&&""!==n){t.removeClass(o.loaded_class),t.addClass(o.loading_class);var d=new Image;d.onload=function(){t.removeClass(o.loading_class),t.addClass(o.loaded_class),i(function(){a.src=n},0),r.push(a.src),e.isDefined(objectFitImages)&&e.isFunction(objectFitImages)&&objectFitImages("img.antimoderate"),o.transition&&(a.style.transition=o.transition),o.filter&&(a.style.filter="none "),o.overflow&&(a.style.overflow="")},d.src=n}i(function(){a.src=l.src},0),e.isDefined(objectFitImages)&&e.isFunction(objectFitImages)&&objectFitImages("img.antimoderate"),o.overflow&&(a.style.overflow="hidden"),o.filter&&(a.style.filter=o.filter)},l.src=n};e.isDefined(o.src)&&(n.addClass("antimoderate"),r.indexOf(o.src)===-1&&l(n,a.micro_src,a),t.$watch("ngAntimoderate",function(e){r.indexOf(o.src)===-1&&l(n,e,a)}))}}}])}(window.angular);