!function(e){"use strict";e.module("ngAntimoderate",[]).directive("ngAntimoderate",["$timeout",function(i){return{restrict:"A",replace:!1,scope:{ngAntimoderate:"@",filter:"@",transition:"@",loadingClass:"@",loadedClass:"@",overflow:"@"},transclude:!1,link:function(t,n,o){var s=n[0],a={},l=[];a.micro_src=t.ngAntimoderate||"",a.filter=t.filter||"",a.transition=t.transition||"",a.loading_class=t.loadingClass||"loading",a.loaded_class=t.loadedClass||"loaded",a.overflow="false"!==t.overflow;var r=function(t,n,s){var a=t[0],r=new Image;r.onload=function(){var n=o.src;if(e.isDefined(n)&&null!==n&&""!==n){t.removeClass(s.loaded_class),t.addClass(s.loading_class);var d=new Image;d.onload=function(){t.removeClass(s.loading_class),t.addClass(s.loaded_class),i(function(){a.src=n},0),l.push(a.src),e.isDefined(objectFitImages)&&e.isFunction(objectFitImages)&&objectFitImages("img.antimoderate"),s.transition&&(a.style.transition=s.transition),s.filter&&(a.style.filter="none "),s.overflow&&(a.style.overflow=""),console.log(a)},d.src=n}i(function(){a.src=r.src},0),e.isDefined(objectFitImages)&&e.isFunction(objectFitImages)&&objectFitImages("img.antimoderate"),s.overflow&&(a.style.overflow="hidden"),s.filter&&(a.style.filter=s.filter)},r.src=n};e.isDefined(s.src)&&(n.addClass("antimoderate"),l.indexOf(s.src)===-1&&r(n,a.micro_src,a),t.$watch("ngAntimoderate",function(e){l.indexOf(s.src)===-1&&r(n,e,a)}))}}}])}(window.angular);