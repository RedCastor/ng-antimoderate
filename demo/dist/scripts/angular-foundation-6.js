!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.angularFoundation=n}}(this,function(e){"use strict";n.$inject=["$scope","$attrs","accordionConfig"],o.$inject=["$scope","$attrs","mediaQueries","$element","$position","$timeout","$transclude","dropdownPaneOffset"],i.$inject=["$document","$window","$location"],r.$inject=["$element"],l.$inject=["$element"],s.$inject=["$element","$interval","$scope","$swipe"],u.$inject=["$element"],d.$inject=["$element"],p.$inject=["$element"],Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,n,o){var t=this;t.groups=[],t.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):o.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},t.addGroup=function(e){this.groups.push(e)},t.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}function o(n,e,t,i,a,o,r,l){var s=this,c=void 0,u=void 0,d=angular.element(document.querySelector("body"));function p(e){s.active=!1,n.$emit("close.af.dropdownToggle",i,n),s.closeOnClick&&d.off("click",f),u&&u()}function f(t){var e=Array.prototype.slice.apply(i[0].querySelectorAll("*"));e.length&&(e.every(function(e){return e!==t.target})&&(p(),n.$apply()))}function m(e){var t=s.paneOffset||e,n=angular.element(i[0].querySelector("toggle *:first-child")),o=a.position(n);s.css.top=o.top+o.height+t+"px","center"===s.paneAlign?(s.css.left=o.left+o.width/2+"px",s.css.transform="translateX(-50%)"):"right"===s.paneAlign?(s.css.left=o.left+o.width+"px",s.css.transform="translateX(-100%)"):s.css.left=o.left+"px"}s.css={},r(function(e,t){angular.element(i[0].querySelector("span:nth-child(1)")).append(e)},i.parent(),"toggle"),r(function(e,t){t.$close=p,angular.element(i[0].querySelector("div:nth-child(2)")).append(e)},i.parent(),"pane"),o(function(){m()}),s.$onDestroy=function(){s.closeOnClick&&d.off("click",f)},s.toggle=function(){s.active?p():(s.active=!0,n.$emit("open.af.dropdownToggle",i,n),m(l),s.closeOnClick&&d.on("click",f),u=n.$on("doClose.af.dropdownToggle",p))},s.mouseover=function(){o.cancel(c),o(function(){s.active=!0}),m(l)},s.mouseleave=function(){o.cancel(c),c=o(function(){n.$apply(function(){s.active=!1})},250)}}function i(e,t,n){return{scope:{},restrict:"EA",bindToController:{closeOnClick:"=",paneAlign:"@",toggleOnHover:"=",paneOffset:"="},transclude:{toggle:"toggle",pane:"pane"},templateUrl:"template/dropdownToggle/dropdownToggle.html",controller:o,controllerAs:"$ctrl"}}angular.module("mm.foundation.accordion",[]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",n).directive("accordion",function(){return{restrict:"EA",controller:n,controllerAs:"$ctrl",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:{accordion:"^accordion"},restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{},controllerAs:"$ctrl",bindToController:{heading:"@"},controller:["$scope","$element","$attrs","$parse",function(n,o,i,a){var r=this;r.isOpen=!1,r.setHTMLHeading=function(e){r.HTMLHeading=e},r.$onInit=function(){var e,t;r.accordion.addGroup(r),n.$on("$destroy",function(e){r.accordion.removeGroup(r)}),i.isOpen&&(e=a(i.isOpen),t=e.assign,n.$parent.$watch(e,function(e){r.isOpen=!!e})),n.$watch(function(){return r.isOpen},function(e){e&&r.accordion.closeOthers(r),t&&t(n.$parent,e),e?n.$emit("down.af.accordionGroup",o,n):n.$emit("up.af.accordionGroup",o,n)})}}]}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,o,i){o.setHTMLHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,o){e.$watch(function(){return o.HTMLHeading},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("mm.foundation.accordion").run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<li class="accordion-item" ng-class="{ \'is-active\': $ctrl.isOpen }">\n  <a ng-click="$ctrl.isOpen = !$ctrl.isOpen" class="accordion-title" accordion-transclude>{{$ctrl.heading}}</a>\n  <div class="accordion-content" style="display: block;" ng-show="$ctrl.isOpen" ng-transclude></div>\n</li>\n'),e.put("template/accordion/accordion.html",'<ul class="accordion" ng-transclude></ul>\n')}]),angular.module("mm.foundation.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t&&void 0!==t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("mm.foundation.alert").run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="callout" ng-class=\'(type || "")\'>\n  <span ng-transclude></span>\n  <button ng-click="close()" ng-show="closeable" class="close-button" aria-label="Close alert" type="button">\n      <span aria-hidden="true">&times;</span>\n  </button>\n</div>\n')}]),angular.module("mm.foundation.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("mm.foundation.buttons",[]).constant("buttonConfig",{activeClass:"hollow",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass,this.toggleEvent=e.toggleEvent}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,o){var i=o[0],a=o[1];a.$render=function(){t.toggleClass(i.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){t.hasClass(i.activeClass)||e.$apply(function(){a.$setViewValue(e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(o,e,t,n){var i=n[0],a=n[1];function r(){return l(t.btnCheckboxTrue,!0)}function l(e,t){var n=o.$eval(e);return angular.isDefined(n)?n:t}a.$render=function(){e.toggleClass(i.activeClass,angular.equals(a.$modelValue,r()))},e.bind(i.toggleEvent,function(){o.$apply(function(){a.$setViewValue(e.hasClass(i.activeClass)?l(t.btnCheckboxFalse,!1):r()),a.$render()})})}}}),angular.module("mm.foundation.drilldownMenu",[]).directive("drilldownMenu",["$compile","$timeout","$window",function(e,t,n){var o="mm.foundation.drilldownMenu";return{bindToController:{drilldownMenuApi:"=?"},scope:{},restrict:"A",controllerAs:"vm",controller:["$scope","$element",function(e,t){var n=this;n.maxHeight=-1,n.maxWidth=-1,n.childMenus=[],n.generatedWrapper=null,n.reportChild=r,n.$onInit=function(e,t){var n=this;n.drilldownMenuApi={show:i,hide:a,hideAll:function(){return function(e){for(var t=0;t<e.childMenus.length;++t){var n=e.childMenus[t];n.hasClass("is-active")&&e.drilldownMenuApi.hide(n)}}(n)},resizeMenu:function(){return l(n)},EVENTS:{resize:"resize."+o,open:"open."+o,hide:"hide."+o,_emitEvent:function(e,t,n){for(var o=arguments.length,i=Array(3<o?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];var r=[t].concat(i);e.$emit.apply(e,[n].concat(C(r)))}.bind(n,e,t)}}}.bind(n,e,t),n.$postLink=s,n.$onDestroy=c}],link:function(e,t,n,o){if(!o)return;var i=t.parent();if(!i||!i[0]||"DIV"!==i[0].nodeName||!i.hasClass("is-drilldown")){o.generatedWrapper=angular.element('<div class="is-drilldown"></div>'),t.wrap(o.generatedWrapper)}o.$element=t}};function i(e){e.removeClass("invisible"),e.addClass("is-active"),this.EVENTS._emitEvent(this.EVENTS.open,e)}function a(e){e.addClass("is-closing"),e.one("transitionend",function(){e.removeClass("is-active is-closing"),e.addClass("invisible")}),this.EVENTS._emitEvent(this.EVENTS.hide,e)}function r(e){this.childMenus.push(e)}function l(n){var e=n.$element.parent();function t(e){var t=e[0].getBoundingClientRect();n.maxHeight=Math.max(n.maxHeight,t.height),n.maxWidth=Math.max(n.maxWidth,t.width)}e.css({"max-width":"none","min-height":"none"}),n.maxHeight=-1,n.maxWidth=-1,t(n.$element),angular.forEach(n.childMenus,t);var o={minHeight:n.maxHeight+"px",maxWidth:n.maxWidth+"px"};e.css(o),n.drilldownMenuApi.EVENTS._emitEvent(n.drilldownMenuApi.EVENTS.resize)}function s(){l(this),angular.element(n).on("resize",this.drilldownMenuApi.resizeMenu)}function c(){var e=this;angular.element(n).off("resize",e.drilldownMenuApi.resizeMenu),e.generatedWrapper&&delete e.generatedWrapper,delete e.drilldownMenuApi.hideAll,delete e.drilldownMenuApi.resizeMenu,delete e.drilldownMenuApi.EVENTS._emitEvent,e.drilldownMenuApi={},delete e.$onInit}}]).directive("ul",["$compile",function(f){return{require:"?^^drilldownMenu",restrict:"E",link:function(e,t,n,o){if(!o)return;for(var i=null,a=!1,r=t.children(),l=0;l<r.length;++l){var s=angular.element(r[l]);"LI"===s[0].nodeName&&s.hasClass("js-drilldown-back")&&(i=s)}if(!i){a=!0;i=angular.element('<li class="js-drilldown-back"><a tabindex="0">Back</a></li>'),t.prepend(i),f(i)(e)}function c(e){o.drilldownMenuApi.hide(t),e.stopImmediatePropagation(),e.preventDefault()}i.on("click",c),o.reportChild(t);var u="vertical nested submenu is-drilldown-submenu drilldown-submenu-cover-previous invisible";t.addClass(u);var d=t.parent();function p(e){o.drilldownMenuApi.show(t),e.stopImmediatePropagation()}d.addClass("is-drilldown-submenu-parent"),d.on("click",p),e.$on("$destroy",function(){d.off("click",p),i.off("click",c),a&&i.remove(),t.removeClass(u)})}}}]),angular.module("mm.foundation.dropdownMenu",[]).directive("dropdownMenu",["$compile",function(e){return{bindToController:{disableHover:"=",disableClickOpen:"=",closingTime:"=",opensLeft:"="},scope:{},restrict:"A",controllerAs:"vm",controller:["$scope","$element",function(e,t){}]}}]).directive("li",["$timeout",function(u){return{require:"?^^dropdownMenu",restrict:"E",link:function(e,t,n,o){if(o){for(var i,a=null,r=t[0].children,l=0;l<r.length;l++){var s=angular.element(r[l]);"UL"===s[0].nodeName&&s.hasClass("menu")&&(a=s)}var c=t.parent()[0].hasAttribute("dropdown-menu");c||t.addClass("is-submenu-item"),a&&(a.addClass("is-dropdown-submenu menu submenu vertical"),t.addClass("is-dropdown-submenu-parent opens-"+(o.opensLeft?"left":"right")),c&&a.addClass("first-sub"),o.disableHover||t.on("mouseenter",function(){u.cancel(i),t.parent().children().children().removeClass("js-dropdown-active"),a.addClass("js-dropdown-active"),t.addClass("is-active")}),t.on("click",function(){a.addClass("js-dropdown-active"),t.addClass("is-active")}),t.on("mouseleave",function(){i=u(function(){a.removeClass("js-dropdown-active"),t.removeClass("is-active")},o.closingTime?o.closingTime:500)}))}}}}]),angular.module("mm.foundation.dropdownToggle",["mm.foundation.position","mm.foundation.mediaQueries"]).directive("dropdownToggle",i).constant("dropdownPaneOffset",1),angular.module("mm.foundation.dropdownToggle").run(["$templateCache",function(e){e.put("template/dropdownToggle/dropdownToggle.html",'<span\n    ng-class="{\'is-open\': $ctrl.active}"\n    ng-click="$ctrl.toggle()"\n    ng-mouseover="$ctrl.toggleOnHover && $ctrl.mouseover()"\n    ng-mouseleave="$ctrl.toggleOnHover && $ctrl.mouseleave($event)"></span>\n<div\n    ng-style="$ctrl.css"\n    ng-class="{\'is-open\': $ctrl.active}"\n    ng-attr-aria-hidden="$ctrl.active"\n    ng-mouseover="$ctrl.toggleOnHover && $ctrl.mouseover()"\n    ng-mouseleave="$ctrl.toggleOnHover && $ctrl.mouseleave($event)"\n    class="dropdown-pane{{$ctrl.paneAlign && \' dropdown-pane-\' + $ctrl.paneAlign}}"></div>\n')}]),angular.module("mm.foundation.mediaQueries",[]).factory("matchMedia",["$document","$window",function(e,t){return t.matchMedia||(n=e[0],o=void 0,i=n.documentElement,a=i.firstElementChild||i.firstChild,r=n.createElement("body"),(l=n.createElement("div")).id="mq-test-1",l.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(l),function(e){return l.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,a),o=42===l.offsetWidth,i.removeChild(r),{matches:o,media:e}});var n,o,i,a,r,l}]).factory("mediaQueries",["$document","matchMedia",function(e,o){var t=angular.element(e[0].querySelector("head"));t.append('<meta class="foundation-mq" />');var n,i,a=getComputedStyle(t[0].querySelector("meta.foundation-mq")).fontFamily,r=(i={},"string"!=typeof(n=a)?i:(n=n.trim().slice(1,-1))?i=n.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),o=n[0],i=n[1];return o=decodeURIComponent(o),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(o)?Array.isArray(e[o])?e[o].push(i):e[o]=[e[o],i]:e[o]=i,e},{}):i),l=[];for(var s in r)l.push({name:s,value:"only screen and (min-width: "+r[s]+")"});return{getCurrentSize:function(){for(var e=void 0,t=0;t<l.length;t++){var n=l[t];o(n.value).matches&&(e=n)}return"object"===(void 0===e?"undefined":c(e))?e.name:e},atLeast:function(e){var t=function(e){for(var t in l){var n=l[t];if(e===n.name)return n.value}return null}(e);return!!t&&window.matchMedia(t).matches},mobileSniff:function(){return/iP(ad|hone|od).*OS/.test(window.navigator.userAgent)||/Android/.test(window.navigator.userAgent)}}}]);var a=e.StackedMap=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.stack=[]}return t(e,[{key:"add",value:function(e,t){this.stack.push({key:e,value:t})}},{key:"get",value:function(t){return this.stack.find(function(e){return e.key===t})}},{key:"keys",value:function(){return this.stack.map(function(e){return e.key})}},{key:"top",value:function(){return this.stack[this.stack.length-1]}},{key:"remove",value:function(t){this.stack=this.stack.filter(function(e){return e.key!==t})}},{key:"removeTop",value:function(){return this.stack.splice(this.stack.length-1,1)[0]}},{key:"length",value:function(){return this.stack.length}}]),e}();function r(e){var t=this;this.container=null,(this.$element=e).css({overflow:"hidden"}),this.setContainer=function(e){t.container=e}}function l(e){}function s(r,e,t,n){var l=this;this.slides=[],this.currentIdx=0,this.skipInterval=!0,r.css({position:"relative"}),this.addSlide=function(e){l.slides.push(e);var t=!0,n=!1,o=void 0;try{for(var i,a=l.slides[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.element.css({width:100/l.slides.length+"%"})}}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}r.css({width:100*l.slides.length+"%"})},this.activateState=function(e){l.currentIdx=e;var t=100*l.currentIdx/l.slides.length;r.css({transform:"translateX("+-t+"%)"})},this.prevState=function(){t.$apply(function(){0<l.currentIdx?l.activateState((l.currentIdx-1)%l.slides.length):l.activateState(l.slides.length-1)})},this.nextState=function(){t.$apply(function(){l.activateState((l.currentIdx+1)%l.slides.length)})},this.stopAutoPlay=function(){e.cancel(l.autoSlider),l.autoSlider=null},this.restartTimer=function(){l.stopAutoPlay(),l.autoSlider=e(function(){l.activateState(++l.currentIdx%l.slides.length)},l.cycleTime||5e3)},r.on("mouseenter",this.stopAutoPlay),r.on("mouseleave",this.restartTimer),this.$onDestroy=function(){l.stopAutoPlay(),r.off("mouseenter",l.stopAutoPlay),r.off("mouseleave",l.restartTimer)};var i=null,a=this.currentIdx;n.bind(r,{start:function(e){r.addClass("touching"),l.stopAutoPlay(),i=e},move:function(e){var t=100*(i.x-e.x)/l.orbit.$element[0].offsetWidth,n=100*l.currentIdx/l.slides.length+t/l.slides.length,o=e.x>i.x?Math.floor:Math.ceil;a=o(n/(100/l.slides.length)),r.css({transform:"translateX("+-n+"%)"})},end:function(e){r.removeClass("touching"),a>=l.slides.length?a=l.slides.length-1:a<0&&(a=0),l.activateState(a),l.restartTimer(),t.$apply()},cancel:function(){l.restartTimer(),r.removeClass("touching")}}),this.$onInit=function(){l.orbit.setContainer(l),t.$watch(function(){return l.currentIdx},l.restartTimer)}}function u(e){var t=this;e.css({overflow:"hidden",float:"left",position:"relative"}),this.$onInit=function(){t.orbitContainer.addSlide({element:e})}}function d(e){var t=this;e.css({cursor:"pointer"}),this.$onInit=function(){e.on("click",function(){t.orbit.container.prevState()})}}function p(e){var t=this;e.css({cursor:"pointer"}),this.$onInit=function(){e.on("click",function(){t.orbit.container.nextState()})}}angular.module("mm.foundation.modal",["mm.foundation.mediaQueries"]).directive("modalBackdrop",["$modalStack",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e){e.close=function(e){var t=n.getTop();t&&t.value.closeOnClick&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),n.dismiss(t.key,"backdrop click"))}}}}]).directive("modalWindow",["$modalStack",function(o){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,e,n){t.windowClass=n.windowClass||"",t.isTop=function(){var e=o.getTop();return!e||e.value.modalScope&&e.value.modalScope===t.$parent}}}}]).factory("$modalStack",["$window","$timeout","$document","$compile","$rootScope","$animate","$q","mediaQueries",function(l,s,u,c,d,p,f,e){var m=e.mobileSniff(),g="is-reveal-open",v=null,h=new a,i={},b=/[A-Z]/g;function $(){for(var e=h.keys(),t=(e.length,u.find("body").eq(0),0);t<e.length;t++){var n=i.reposition(e[t]);n&&"fixed"!==n.position&&!1}}function o(e){var t=h.get(e).value;if(h.remove(e),t.backdropDomEl&&p.leave(t.backdropDomEl).then(function(){t.backdropScope.$destroy()}),0===h.length()){var n=u.find("body").eq(0);if(n.removeClass(g),m)u.find("html").eq(0).removeClass(g),v&&(n[0].scrollTop=v,v=null);angular.element(l).unbind("resize",$)}p.leave(t.modalDomEl).then(function(){t.modalScope.$destroy()})}function y(e){var t=e.options;if(t.backdrop)return{left:0,position:"relative"};var n=t.modalDomEl,o=u.find("body").eq(0),i=o.clientWidth||u[0].documentElement.clientWidth,a=o.clientHeight||u[0].documentElement.clientHeight,r=n[0].offsetWidth,l=n[0].offsetHeight,s=parseInt((i-r)/2,10);l<a&&parseInt((a-l)/4,10);var c=t.modalPos=t.modalPos||{};return c.left=s,c.position="fixed",c}return u.on("keydown",function(e){var t=h.top();if(t)if(27===e.which)t.value.keyboard&&d.$apply(function(){i.dismiss(t.key)});else if(9===e.which){var n=i.loadFocusElementList(t),o=!1;e.shiftKey?(i.isFocusInFirstItem(e,n)||i.isModalFocused(e,t))&&(o=i.focusLastFocusableElement(n)):i.isFocusInLastItem(e,n)&&(o=i.focusFirstFocusableElement(n)),o&&(e.preventDefault(),e.stopPropagation())}}),i.loadFocusElementList=function(e){if(!e)return[];var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return[].concat(C(n)).filter(function(e){return!!((t=e).offsetWidth||t.offsetHeight||t.getClientRects().length);var t})}return[]},i.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},i.isFocusInLastItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[t.length-1]},i.focusFirstFocusableElement=function(e){return 0<e.length&&(e[0].focus(),!0)},i.focusLastFocusableElement=function(e){return 0<e.length&&(e[e.length-1].focus(),!0)},i.isFocusInFirstItem=function(e,t){return 0<t.length&&(e.target||e.srcElement)===t[0]},i.open=function(o,i){o.options={deferred:i.deferred,modalScope:i.scope,backdrop:i.backdrop,keyboard:i.keyboard,closeOnClick:i.closeOnClick,id:i.id},h.add(o,o.options);!function(){for(var e=-1,t=h.keys(),n=0;n<t.length;n++)h.get(t[n]).value.backdrop&&(e=n)}();var a=void 0;if(i.backdrop){var e=d.$new(!0);a=c("<div modal-backdrop></div>")(e),h.top().value.backdropDomEl=a,h.top().value.backdropScope=e}1===h.length()&&angular.element(l).on("resize",$);var t=[];i.windowClass&&t.push(i.windowClass),i.size&&t.push(i.size),i.backdrop||t.push("without-overlay");var n=void 0;i.component?(n=document.createElement(i.component.name.replace(b,function(e,t){return(t?"-":"")+e.toLowerCase()})),(n=angular.element(n)).attr({resolve:"$resolve","modal-instance":"$modalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):n=i.content;var r=angular.element("<div modal-window></div>").attr({"window-class":t.join(" "),index:h.length()-1});return r.append(n),c(r)(i.scope),h.top().value.modalDomEl=r,s(function(){i.scope.$apply();var e=u.find("body").eq(0);e.prepend(r);y(o);r.detach(),r.css({visibility:"visible",left:"${modalPos.left}px",display:"block",position:"${modalPos.position}","z-index":""});var t=[];a&&(a.css({display:"block"}),t.push(p.enter(a,e,e[0].lastChild)));var n=a||e;(t.push(p.enter(r,n,n[0].lastChild)),m)&&(v=l.pageYOffset,u.find("html").eq(0).addClass(g));return e.addClass(g),i.backdrop||i.scope.$watch(function(){return Math.floor(r[0].offsetHeight/10)},$),f.all(t).then(function(){var e=r[0].querySelector("[autofocus]")||r[0],t=n[0].scrollTop;e.focus(),n[0].scrollTop=t})})},i.reposition=function(e){var t=h.get(e).value;if(t){var n=t.modalDomEl,o=y(e);return n.css("left",o.left+"px"),n.css("position",o.position),o}return{}},i.close=function(e,t){var n=h.get(e);return n?(n.value.deferred.resolve(t),e.opened.then(function(){o(e)})):f.resolve()},i.dismiss=function(e,t){var n=h.get(e);return n?(n.value.deferred.reject(t),e.opened.then(function(){o(e)})):f.resolve()},i.dismissAll=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return f.all(h.keys().filter(function(e){return-1===n.indexOf(h.get(e).value.id)}).map(function(e){return i.dismiss(e,t)}))},i.getTop=function(){return h.top()},i.isOpen=function(e){return h.keys().some(function(e){return-1!==skipIds.indexOf(h.get().value.id)})},i}]).provider("$modal",function(){var l=this;this.options={backdrop:!0,keyboard:!0,closeOnClick:!0,id:0},this.$get=["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(n,d,o,i,a,p,f){var e={};function r(e){var t=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&t.push(o.when(n.invoke(e)))}),t}return e.open=function(e){var s=o.defer(),t=o.defer(),c={result:s.promise,opened:t.promise,close:function(e){f.close(c,e)},dismiss:function(e){f.dismiss(c,e)},reposition:function(){f.reposition(c)}},u=angular.extend({},l.options,e);if(u.resolve=u.resolve||{},!u.component&&!u.template&&!u.templateUrl)throw new Error("One of component or template or templateUrl options is required.");if(u.component&&(u.template||u.templateUrl||u.controller))throw new Error("Either component or template options is required, not both.");var n;return(u.component?o.all(r(u.resolve)):o.all([(n=u,n.template?o.resolve(n.template):i.get(n.templateUrl,{cache:a}).then(function(e){return e.data}))].concat(r(u.resolve)))).then(function(n){var e=(u.scope||d).$new();e.$close=c.close,e.$dismiss=c.dismiss;var t={scope:e,deferred:s,content:n[0],backdrop:u.backdrop,keyboard:u.keyboard,windowClass:u.windowClass,size:u.size,closeOnClick:u.closeOnClick,id:u.id},o=void 0,i={};if(u.component){var a={name:u.component,$scope:e};a.$scope.$modalInstance=c,a.$scope.$resolve={};var r=0;angular.forEach(u.resolve,function(e,t){a.$scope.$resolve[t]=n[r++]}),t.component=a}else if(u.controller){i.$scope=e,i.$modalInstance=c;var l=1;angular.forEach(u.resolve,function(e,t){i[t]=n[l++]}),o=p(u.controller,i),u.controllerAs&&(e[u.controllerAs]=o)}return f.open(c,t)},function(e){return s.reject(e),o.reject(e)}).then(function(){t.resolve()},function(e){t.reject(e)}),c},e}]}),angular.module("mm.foundation.modal").run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div ng-animate-children="true"\n    class="reveal-overlay ng-animate"\n    ng-click="close($event)"\n    ></div>\n'),e.put("template/modal/window.html",'<div tabindex="-1" class="reveal {{ windowClass }}">\n  <div ng-transclude></div>\n</div>\n')}]),angular.module("mm.foundation.offcanvas",[]).directive("offCanvasWrapper",["$window",function(s){return{scope:{},bindToController:{disableAutoClose:"="},controllerAs:"vm",restrict:"C",controller:["$scope","$element",function(e,t){var n=this,o=angular.element(t[0].querySelector(".position-left")),i=angular.element(t[0].querySelector(".position-right")),a=angular.element(t[0].querySelector(".off-canvas-wrapper-inner")),r=angular.element('<div class="js-off-canvas-exit"></div>');a.append(r),r.on("click",function(){n.hide()}),n.leftToggle=function(){a&&a.toggleClass("is-off-canvas-open"),a&&a.toggleClass("is-open-left"),o&&o.toggleClass("is-open"),r.addClass("is-visible")},n.rightToggle=function(){a&&a.toggleClass("is-off-canvas-open"),a&&a.toggleClass("is-open-right"),i&&i.toggleClass("is-open"),r.addClass("is-visible")},n.hide=function(){a&&a.removeClass("is-open-left"),a&&a.removeClass("is-open-right"),o&&o.removeClass("is-open"),i&&i.removeClass("is-open"),a&&a.removeClass("is-off-canvas-open"),r.removeClass("is-visible")};var l=angular.element(s);l.bind("resize.body",n.hide),e.$on("$destroy",function(){l.unbind("resize.body",n.hide)})}]}}]).directive("leftOffCanvasToggle",function(){return{require:"^^offCanvasWrapper",restrict:"C",link:function(e,t,n,o){t.on("click",function(){o.leftToggle()})}}}).directive("rightOffCanvasToggle",function(){return{require:"^^offCanvasWrapper",restrict:"C",link:function(e,t,n,o){t.on("click",function(){o.rightToggle()})}}}).directive("offCanvas",function(){return{require:{offCanvasWrapper:"^^offCanvasWrapper"},restrict:"C",bindToController:{},scope:{},controllerAs:"vm",controller:function(){}}}).directive("li",function(){return{require:"?^^offCanvas",restrict:"E",link:function(e,t,n,o){o&&!o.offCanvasWrapper.disableAutoClose&&t.on("click",function(){o.offCanvasWrapper.hide()})}}}),angular.module("mm.foundation.orbit",["ngTouch"]).directive("orbit",function(){return{scope:{},restrict:"C",controller:r}}).directive("orbitContainer",function(){return{scope:{cycleTime:"<"},restrict:"C",require:{orbit:"^^orbit"},controller:s,controllerAs:"vm",bindToController:!0}}).directive("orbitSlide",function(){return{scope:{},restrict:"C",require:{orbitContainer:"^^orbitContainer"},controller:u,controllerAs:"vm",bindToController:!0}}).directive("orbitPrevious",function(){return{scope:{},restrict:"C",require:{orbit:"^^orbit"},controller:d,controllerAs:"vm",bindToController:!0}}).directive("orbitNext",function(){return{scope:{},restrict:"C",require:{orbit:"^^orbit"},controller:p,controllerAs:"vm",bindToController:!0}}).directive("orbitBullets",function(){return{scope:{},restrict:"EC",require:{orbit:"^^orbit"},controller:l,controllerAs:"vm",bindToController:!0,template:'\n        <button\n            ng-click="vm.orbit.container.activateState($index)"\n            ng-repeat="slide in vm.orbit.container.slides"\n            ng-class="{\'is-active\': $index === vm.orbit.container.currentIdx}">\n            </button>\n    '}}),angular.module("mm.foundation.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(o,t,n,i){var a=this,r=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(e){t.itemsPerPage?o.$parent.$watch(n(t.itemsPerPage),function(e){a.itemsPerPage=parseInt(e,10),o.totalPages=a.calculateTotalPages()}):this.itemsPerPage=e},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===o.totalPages},this.isActive=function(e){return this.page===e},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(o.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.getAttributeValue=function(e,t,n){return angular.isDefined(e)?n?i(e)(o.$parent):o.$parent.$eval(e):t},this.render=function(){this.page=parseInt(o.page,10)||1,0<this.page&&this.page<=o.totalPages&&(o.pages=this.getPages(this.page,o.totalPages))},o.selectPage=function(e){!a.isActive(e)&&0<e&&e<=o.totalPages&&(o.page=e,o.onSelectPage({page:e}))},o.$watch("page",function(){a.render()}),o.$watch("totalItems",function(){o.totalPages=a.calculateTotalPages()}),o.$watch("totalPages",function(e){r(o.$parent,e),a.page>e?o.selectPage(e):a.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(o,i){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(e,t,n,m){var g,v=m.getAttributeValue(n.boundaryLinks,i.boundaryLinks),h=m.getAttributeValue(n.directionLinks,i.directionLinks),b=m.getAttributeValue(n.firstText,i.firstText,!0),$=m.getAttributeValue(n.previousText,i.previousText,!0),y=m.getAttributeValue(n.nextText,i.nextText,!0),C=m.getAttributeValue(n.lastText,i.lastText,!0),w=m.getAttributeValue(n.rotate,i.rotate);function k(e,t,n,o){return{number:e,text:t,active:n,disabled:o}}m.init(i.itemsPerPage),n.maxSize&&e.$parent.$watch(o(n.maxSize),function(e){g=parseInt(e,10),m.render()}),m.getPages=function(e,t){var n=[],o=1,i=t,a=angular.isDefined(g)&&g<t;a&&(w?t<(i=(o=Math.max(e-Math.floor(g/2),1))+g-1)&&(o=(i=t)-g+1):(o=(Math.ceil(e/g)-1)*g+1,i=Math.min(o+g-1,t)));for(var r=o;r<=i;r++){var l=k(r,r,m.isActive(r),!1);n.push(l)}if(a&&!w){if(1<o){var s=k(o-1,"...",!1,!1);n.unshift(s)}if(i<t){var c=k(i+1,"...",!1,!1);n.push(c)}}if(h){var u=k(e-1,$,!1,m.noPrevious());n.unshift(u);var d=k(e+1,y,!1,m.noNext());n.push(d)}if(v){var p=k(1,b,!1,m.noPrevious());n.unshift(p);var f=k(t,C,!1,m.noNext());n.push(f)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(s){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,t,n,o){var i=o.getAttributeValue(n.previousText,s.previousText,!0),a=o.getAttributeValue(n.nextText,s.nextText,!0),r=o.getAttributeValue(n.align,s.align);function l(e,t,n,o,i){return{number:e,text:t,disabled:n,previous:r&&o,next:r&&i}}o.init(s.itemsPerPage),o.getPages=function(e){return[l(e-1,i,o.noPrevious(),!0,!1),l(e+1,a,o.noNext(),!1,!0)]}}}}]),angular.module("mm.foundation.pagination").run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pagination">\n  <li ng-repeat="page in pages" class="arrow" ng-class="{unavailable: page.disabled, left: page.previous, right: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>\n'),e.put("template/pagination/pagination.html",'<ul class="pagination" role="navigation" aria-label="Pagination">\n  <li ng-repeat="page in pages"\n    ng-class="{\n        \'pagination-previous\': $first,\n        \'pagination-next\': $last,\n        current: page.active,\n        disabled: page.disabled\n        }">\n    <a ng-if="!page.active" ng-click="selectPage(page.number)">{{page.text}}</a>\n    <span ng-if="page.active">{{page.text}}</span>\n  </li>\n</ul>\n')}]),angular.module("mm.foundation.position",[]).factory("$position",["$document","$window",function(a,o){function r(e){return"static"===(n="position",((t=e).currentStyle?t.currentStyle[n]:o.getComputedStyle?o.getComputedStyle(t)[n]:t.style[n])||"static");var t,n}return{position:function(e){var t=this.offset(e),n={top:0,left:0},o=function(e){for(var t=a[0],n=e.offsetParent||t;n&&n!==t&&r(n);)n=n.offsetParent;return n||t}(e[0]);o!=a[0]&&((n=this.offset(angular.element(o))).top+=o.clientTop-o.scrollTop,n.left+=o.clientLeft-o.scrollLeft);var i=e[0].getBoundingClientRect();return{width:i.width||e.prop("offsetWidth"),height:i.height||e.prop("offsetHeight"),top:t.top-n.top,left:t.left-n.left}},offset:function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(o.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:t.left+(o.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}}}}]),angular.module("mm.foundation.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$animate",function(e,t,n,i){var a=this,r=[],o=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,l=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.addBar=function(e,n){var t=0,o=e.$parent.$index;angular.isDefined(o)&&r[o]&&(t=r[o].value),r.push(e),this.update(n,e.value,t),e.$watch("value",function(e,t){e!==t&&a.update(n,e,t)}),e.$on("$destroy",function(){a.removeBar(e)})},this.update=function(e,t,n){var o=this.getPercentage(t);l?(e.css("width",this.getPercentage(n)+"%"),i.animate(e,{width:this.getPercentage(n)+"%"},{width:o+"%"})):e.css({transition:"none",width:o+"%"})},this.removeBar=function(e){r.splice(r.indexOf(e),1)},this.getPercentage=function(e){return Math.round(100*e/o)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,o){o.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,o){o.addBar(e,angular.element(t.children()[0]))}}}),angular.module("mm.foundation.progressbar").run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<span class="meter" ng-transclude></span>\n'),e.put("template/progressbar/progress.html",'<div class="progress" ng-class="type" ng-transclude></div>\n'),e.put("template/progressbar/progressbar.html",'<div class="progress" role="progressbar" ng-class="type">\n  <span class="progress-meter"><p class="progress-meter-text" ng-transclude></p></span>\n</div>\n')}]),angular.module("mm.foundation.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(t,e,n,o){this.maxRange=angular.isDefined(e.max)?t.$parent.$eval(e.max):o.max,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):o.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):o.stateOff,this.createRateObjects=function(e){for(var t={stateOn:this.stateOn,stateOff:this.stateOff},n=0,o=e.length;n<o;n++)e[n]=angular.extend({index:n},t,e[n]);return e},t.range=angular.isDefined(e.ratingStates)?this.createRateObjects(angular.copy(t.$parent.$eval(e.ratingStates))):this.createRateObjects(new Array(this.maxRange)),t.rate=function(e){t.value===e||t.readonly||(t.value=e)},t.enter=function(e){t.readonly||(t.val=e),t.onHover({value:e})},t.reset=function(){t.val=angular.copy(t.value),t.onLeave()},t.$watch("value",function(e){t.val=e}),t.readonly=!1,e.readonly&&t.$parent.$watch(n(e.readonly),function(e){t.readonly=!!e})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("mm.foundation.rating").run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n  <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa"\n    ng-class="$index < val && (r.stateOn || \'fa-star\') || (r.stateOff || \'fa-star-o\')"></i>\n</span>\n')}]),angular.module("mm.foundation.tabs",[]).controller("TabsetController",["$scope",function(t){var o=this,i=o.tabs=t.tabs=[];angular.isUndefined(t.openOnLoad)&&(t.openOnLoad=!0),o.select=function(e){angular.forEach(i,function(e){e.active=!1}),e.active=!0},o.addTab=function(e){i.push(e),t.openOnLoad&&(1===i.length||e.active)&&o.select(e)},o.removeTab=function(e){var t=i.indexOf(e);if(e.active&&1<i.length){var n=t==i.length-1?t-1:t+1;o.select(i[n])}i.splice(t,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{openOnLoad:"=?"},controller:"TabsetController",templateUrl:function(e,t){return"template/tabs/tabset-"+("true"==t.vertical?"vertical":"horizontal")+".html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified),e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse",function(l){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,t,r){return function(n,t,e,o){var i,a;e.active?(i=l(e.active),a=i.assign,n.$parent.$watch(i,function(e,t){e!==t&&(n.active=!!e)}),n.active=i(n.$parent)):a=i=angular.noop,n.$watch("active",function(e){angular.isFunction(a)&&(a(n.$parent,e),e?(o.select(n),n.onSelect(),n.$emit("change.af.tabs",t)):n.onDeselect())}),n.disabled=!1,e.disabled&&n.$parent.$watch(l(e.disabled),function(e){n.disabled=!!e}),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t,n,o){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(e,n,t){var o=e.$eval(t.tabContentTransclude);o.$transcludeFn(o.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())?o.headingElement=e:n.append(e)})})}}}),angular.module("mm.foundation.tabs").run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li class="tabs-title" ng-class="{\'is-active\': active}">\n    <a href="" ng-click="select()" ng-attr-aria-selected="{{active}}" tab-heading-transclude>{{heading}}</a>\n</li>\n'),e.put("template/tabs/tabset-horizontal.html",'<div class="tabbable">\n  <ul class="tabs" ng-transclude></ul>\n  <div class="tabs-content">\n    <div class="tabs-panel"\n      ng-repeat="tab in tabs"\n      ng-class="{\'is-active\': tab.active}" \n      aria-hidden=\\"{{!tab.active}}\\">\n      <div tab-content-transclude="tab"></div>\n    </div>\n  </div>\n</div>\n'),e.put("template/tabs/tabset-vertical.html",'<div class="tabbable row collapse">\n  <div class="medium-3 columns">\n    <ul class="tabs vertical" ng-transclude></ul>\n  </div>\n  <div class="medium-9 columns">\n    <div class="tabs-content vertical">\n      <div class="tabs-panel"\n        ng-repeat="tab in tabs"\n        ng-class="{\'is-active\': tab.active}" aria-hidden=\\"{{!tab.active}}\\">\n        <div tab-content-transclude="tab"></div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),angular.module("mm.foundation.tooltip",["mm.foundation.position","mm.foundation.bindHtml"]).provider("$tooltip",function(){var l={placement:"top",popupDelay:0},s={mouseover:"mouseout",click:"click",focus:"blur"},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(e){angular.extend(s,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate","$animate",function(k,a,x,T,A,E,r,P){return function($,y,o){var C=angular.extend({},l,c);function w(e){var t=(e||C.trigger||o).split(" "),n=t.map(function(e){return s[e]||e});return{show:t,hide:n}}var e=$.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),t=r.startSymbol(),n=r.endSymbol(),i="<div "+e+'-popup title="'+t+"tt_title"+n+'" content="'+t+"tt_content"+n+'" placement="'+t+"tt_placement"+n+'" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(e){var b=a(i);return function(r,l,e){var s,t,n=angular.element(document.querySelector("body")),c=!!angular.isDefined(C.appendToBody)&&C.appendToBody,o=w(void 0),i=angular.isDefined(e[y+"Enable"]),a=function(){var e,t,n,o;e=c?E.offset(l):E.position(l),t=s.prop("offsetWidth"),n=s.prop("offsetHeight");var i=k.pageYOffset;"top"===r.tt_placement&&e.top-i-n-20<0&&(r.tt_placement="bottom");var a=parseFloat(getComputedStyle(s[0]).fontSize);switch(r.tt_placement){case"right":o={top:e.top+e.height/2-n/2,left:e.left+e.width+10};break;case"bottom":o={top:e.top+e.height+10,left:e.left-2.25*a+l[0].offsetWidth/2};break;case"left":o={top:e.top+e.height/2-n/2,left:e.left-t-10};break;default:o={top:e.top-n-10,left:e.left-2.25*a+l[0].offsetWidth/2}}o.top+="px",o.left+="px",s.css(o)};function u(){r.tt_isOpen?f():d()}function d(){i&&!r.$eval(e[y+"Enable"])||(r.tt_popupDelay?(t=x(m,r.tt_popupDelay,!1)).then(function(e){e()},angular.noop):m()())}function p(t){var e=Array.prototype.slice.apply(l[0].querySelectorAll("*"));e.length&&(e.every(function(e){return e!==t.target})&&(g(),r.$apply()))}function f(){r.$apply(function(){g()})}function m(){return r.tt_content?(function(){s&&v();s=b(r,function(){}),r.$digest()}(),s.css({top:0,left:0}),c?P.enter(s,A.find("body")):P.enter(s,l.parent(),l),a(),r.tt_isOpen=!0,n.on("click",p),r.$digest(),a):angular.noop}function g(){r.tt_isOpen=!1,x.cancel(t),n.off("click",p),v()}function v(){s&&(P.leave(s),s=null)}r.tt_isOpen=!1,e.$observe($,function(e){!(r.tt_content=e)&&r.tt_isOpen&&g()}),e.$observe(y+"Title",function(e){r.tt_title=e}),e[y+"Placement"]=e[y+"Placement"]||null,e.$observe(y+"Placement",function(e){r.tt_placement=angular.isDefined(e)&&e?e:C.placement}),e[y+"PopupDelay"]=e[y+"PopupDelay"]||null,e.$observe(y+"PopupDelay",function(e){var t=parseInt(e,10);r.tt_popupDelay=isNaN(t)?C.popupDelay:t});var h=function(){o.show.forEach(function(e,t){var n=o.hide[t];e===n?l.off(e,u):(l.off(e,d),l.off(n,f))})};e[y+"Trigger"]=e[y+"Trigger"]||null,e.$observe(y+"Trigger",function(e){h(),(o=w(e)).show.forEach(function(e,t){var n=o.hide[t];e===n?l.bind(e,u):(l.bind(e,d),l.bind(n,f))}),l.on("keydown",function(e){27===e.which&&f()})}),e.$observe(y+"AppendToBody",function(e){c=angular.isDefined(e)?T(e)(r):c}),c&&r.$on("$locationChangeSuccess",function(){r.tt_isOpen&&g()}),r.$on("$destroy",function(){x.cancel(t),h(),v()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseover")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseover")}]),angular.module("mm.foundation.tooltip").run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" style="width: auto;">\n  <span bind-html-unsafe="content"></span>\n</div>\n'),e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" style="width: auto;">\n  <span ng-bind="content"></span>\n</div>\n')}]),angular.module("mm.foundation",["mm.foundation.accordion","mm.foundation.alert","mm.foundation.bindHtml","mm.foundation.buttons","mm.foundation.drilldownMenu","mm.foundation.dropdownMenu","mm.foundation.dropdownToggle","mm.foundation.mediaQueries","mm.foundation.modal","mm.foundation.offcanvas","mm.foundation.orbit","mm.foundation.pagination","mm.foundation.position","mm.foundation.progressbar","mm.foundation.rating","mm.foundation.tabs","mm.foundation.tooltip"])});
//# sourceMappingURL=angular-foundation-6.js.map
